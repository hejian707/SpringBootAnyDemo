package testenum;

import lombok.extern.slf4j.Slf4j;
import org.junit.jupiter.api.Test;

import java.math.BigDecimal;
import java.security.InvalidParameterException;
import java.sql.SQLOutput;
import java.util.Arrays;

/**
 * @Author: hejian1@kingsoft.com
 * @Date: 2023/6/25 16:05
 */
@Slf4j
public class TestEnum {

    @Test
    void testEnum() {
//        String azs = "aaa,aaa,bbb";
//        String[] azsplit = azs.split(",");
//        int a = Arrays.stream(azsplit).distinct().toArray().length;
//        int length = azsplit.length;
//        log.info("节点子网[{}]与可用区[{}]不匹配", a, length);
//        if (Arrays.stream(azsplit).distinct().toArray().length != azsplit.length){
//            System.out.println("true");
//        }

//        String s = "{\"msg\":\"{\\\"appId\\\":\\\"119.console\\\",\\\"createTime\\\":\\\"2023-05-09 16:33:26\\\",\\\"orderId\\\":\\\"M22305091633254452SN6AM\\\",\\\"orderUse\\\":1,\\\"orderUserAuthorizeMarket\\\":false,\\\"productInfoList\\\":[{\\\"billType\\\":87,\\\"duration\\\":1,\\\"durationUnitDic\\\":2,\\\"items\\\":[{\\\"itemName\\\":\\\"可用区\\\",\\\"itemNo\\\":\\\"availabilityZone\\\",\\\"productId\\\":\\\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\\\",\\\"unit\\\":\\\"\\\",\\\"value\\\":\\\"cn-beijing-6a\\\"},{\\\"itemName\\\":\\\"CPU处理器\\\",\\\"itemNo\\\":\\\"cpu\\\",\\\"productId\\\":\\\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\\\",\\\"unit\\\":\\\"核\\\",\\\"value\\\":\\\"1\\\"},{\\\"itemName\\\":\\\"数据库版本\\\",\\\"itemNo\\\":\\\"dbVersion\\\",\\\"productId\\\":\\\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\\\",\\\"unit\\\":\\\"\\\",\\\"value\\\":\\\"3.6\\\"},{\\\"itemName\\\":\\\"本地盘-SSD\\\",\\\"itemNo\\\":\\\"disk\\\",\\\"productId\\\":\\\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\\\",\\\"unit\\\":\\\"G\\\",\\\"value\\\":\\\"50\\\"},{\\\"itemName\\\":\\\"display\\\",\\\"itemNo\\\":\\\"display\\\",\\\"productId\\\":\\\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\\\",\\\"unit\\\":\\\"\\\",\\\"value\\\":\\\"[{\\\\\\\"key\\\\\\\":\\\\\\\"数据中心\\\\\\\",\\\\\\\"value\\\\\\\":\\\\\\\"华北1（北京）\\\\\\\"},{\\\\\\\"key\\\\\\\":\\\\\\\"可用区\\\\\\\",\\\\\\\"value\\\\\\\":\\\\\\\"可用区A\\\\\\\"},{\\\\\\\"key\\\\\\\":\\\\\\\"网络类型\\\\\\\",\\\\\\\"value\\\\\\\":\\\\\\\"VPC\\\\\\\"},{\\\\\\\"key\\\\\\\":\\\\\\\"实例配置\\\\\\\",\\\\\\\"value\\\\\\\":\\\\\\\"1核2G\\\\\\\"},{\\\\\\\"key\\\\\\\":\\\\\\\"节点数\\\\\\\",\\\\\\\"value\\\\\\\":\\\\\\\"3节点\\\\\\\"},{\\\\\\\"key\\\\\\\":\\\\\\\"实例名称\\\\\\\",\\\\\\\"value\\\\\\\":\\\\\\\"zlytest\\\\\\\"},{\\\\\\\"key\\\\\\\":\\\\\\\"存储空间\\\\\\\",\\\\\\\"value\\\\\\\":\\\\\\\"50G\\\\\\\"}]\\\"},{\\\"itemName\\\":\\\"项目ID\\\",\\\"itemNo\\\":\\\"iamProjectId\\\",\\\"productId\\\":\\\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\\\",\\\"unit\\\":\\\"\\\",\\\"value\\\":\\\"0\\\"},{\\\"itemName\\\":\\\"管理员密码\\\",\\\"itemNo\\\":\\\"InstancePassword\\\",\\\"productId\\\":\\\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\\\",\\\"unit\\\":\\\"\\\",\\\"value\\\":\\\"oKpuv/5n/C5tIhFngFJ/SaS6mzNwwXoSR/vSItHjwmzS9iNDz7FNqD7fLixUxKGGvAW4q2wmq14YyHiAZnAcqw==\\\"},{\\\"itemName\\\":\\\"实例配置\\\",\\\"itemNo\\\":\\\"instanceType\\\",\\\"productId\\\":\\\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\\\",\\\"unit\\\":\\\"G\\\",\\\"value\\\":\\\"1C2G\\\"},{\\\"itemName\\\":\\\"内存\\\",\\\"itemNo\\\":\\\"memory\\\",\\\"productId\\\":\\\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\\\",\\\"unit\\\":\\\"G\\\",\\\"value\\\":\\\"2\\\"},{\\\"itemName\\\":\\\"实例名称\\\",\\\"itemNo\\\":\\\"name\\\",\\\"productId\\\":\\\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\\\",\\\"unit\\\":\\\"\\\",\\\"value\\\":\\\"zlytest\\\"},{\\\"itemName\\\":\\\"节点数\\\",\\\"itemNo\\\":\\\"nodeNum\\\",\\\"productId\\\":\\\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\\\",\\\"unit\\\":\\\"\\\",\\\"value\\\":\\\"3\\\"},{\\\"itemName\\\":\\\"价格影响版本\\\",\\\"itemNo\\\":\\\"VERSION\\\",\\\"productId\\\":\\\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\\\",\\\"unit\\\":\\\"\\\",\\\"value\\\":\\\"standard\\\"},{\\\"itemName\\\":\\\"VNet ID\\\",\\\"itemNo\\\":\\\"vnetId\\\",\\\"productId\\\":\\\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\\\",\\\"unit\\\":\\\"\\\",\\\"value\\\":\\\"59a29470-46bd-42b1-9f4a-0344de07b3d8\\\"},{\\\"itemName\\\":\\\"VPC ID\\\",\\\"itemNo\\\":\\\"vpcId\\\",\\\"productId\\\":\\\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\\\",\\\"unit\\\":\\\"\\\",\\\"value\\\":\\\"91b89e19-3bbb-46b5-a62b-26521cd7a31b\\\"}],\\\"productGroup\\\":119,\\\"productId\\\":\\\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\\\",\\\"productName\\\":\\\"mongodb\\\",\\\"productType\\\":64,\\\"productUse\\\":1,\\\"productWhat\\\":1,\\\"region\\\":\\\"cn-beijing-6\\\",\\\"userId\\\":2000096392}],\\\"reason\\\":\\\"instance.timeout\\\",\\\"source\\\":1,\\\"subOrderList\\\":[{\\\"instanceId\\\":\\\"6fe9b3ee-8160-4a9a-91ef-c9419d40ce0d\\\",\\\"productGroup\\\":119,\\\"productId\\\":\\\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\\\",\\\"productType\\\":64,\\\"region\\\":\\\"cn-beijing-6\\\",\\\"subOrderId\\\":\\\"MONGODB2S2305091633262402SN78H\\\"}],\\\"subUserId\\\":\\\"nwk5KmMRSwW4RiQazBOtwQ\\\",\\\"userId\\\":2000096392}\",\"msg_id\":\"1690510501317uJRd\",\"msg_request_id\":\"83898568-7906-4ed3-8d9d-d8058a9dbb41\",\"msg_action\":\"instance.create\",\"msg_timestamp\":1690510501317}";
//        String s1 = "{\"appId\":\"119.console\",\"createTime\":\"2023-05-09 16:33:26\",\"orderId\":\"M22305091633254452SN6AM\",\"orderUse\":1,\"orderUserAuthorizeMarket\":false,\"productInfoList\":[{\"billType\":87,\"duration\":1,\"durationUnitDic\":2,\"items\":[{\"itemName\":\"可用区\",\"itemNo\":\"availabilityZone\",\"productId\":\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\",\"unit\":\"\",\"value\":\"cn-beijing-6a\"},{\"itemName\":\"CPU处理器\",\"itemNo\":\"cpu\",\"productId\":\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\",\"unit\":\"核\",\"value\":\"1\"},{\"itemName\":\"数据库版本\",\"itemNo\":\"dbVersion\",\"productId\":\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\",\"unit\":\"\",\"value\":\"3.6\"},{\"itemName\":\"本地盘-SSD\",\"itemNo\":\"disk\",\"productId\":\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\",\"unit\":\"G\",\"value\":\"50\"},{\"itemName\":\"display\",\"itemNo\":\"display\",\"productId\":\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\",\"unit\":\"\",\"value\":\"[{\\\"key\\\":\\\"数据中心\\\",\\\"value\\\":\\\"华北1（北京）\\\"},{\\\"key\\\":\\\"可用区\\\",\\\"value\\\":\\\"可用区A\\\"},{\\\"key\\\":\\\"网络类型\\\",\\\"value\\\":\\\"VPC\\\"},{\\\"key\\\":\\\"实例配置\\\",\\\"value\\\":\\\"1核2G\\\"},{\\\"key\\\":\\\"节点数\\\",\\\"value\\\":\\\"3节点\\\"},{\\\"key\\\":\\\"实例名称\\\",\\\"value\\\":\\\"zlytest\\\"},{\\\"key\\\":\\\"存储空间\\\",\\\"value\\\":\\\"50G\\\"}]\"},{\"itemName\":\"项目ID\",\"itemNo\":\"iamProjectId\",\"productId\":\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\",\"unit\":\"\",\"value\":\"0\"},{\"itemName\":\"管理员密码\",\"itemNo\":\"InstancePassword\",\"productId\":\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\",\"unit\":\"\",\"value\":\"oKpuv/5n/C5tIhFngFJ/SaS6mzNwwXoSR/vSItHjwmzS9iNDz7FNqD7fLixUxKGGvAW4q2wmq14YyHiAZnAcqw==\"},{\"itemName\":\"实例配置\",\"itemNo\":\"instanceType\",\"productId\":\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\",\"unit\":\"G\",\"value\":\"1C2G\"},{\"itemName\":\"内存\",\"itemNo\":\"memory\",\"productId\":\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\",\"unit\":\"G\",\"value\":\"2\"},{\"itemName\":\"实例名称\",\"itemNo\":\"name\",\"productId\":\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\",\"unit\":\"\",\"value\":\"zlytest\"},{\"itemName\":\"节点数\",\"itemNo\":\"nodeNum\",\"productId\":\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\",\"unit\":\"\",\"value\":\"3\"},{\"itemName\":\"价格影响版本\",\"itemNo\":\"VERSION\",\"productId\":\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\",\"unit\":\"\",\"value\":\"standard\"},{\"itemName\":\"VNet ID\",\"itemNo\":\"vnetId\",\"productId\":\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\",\"unit\":\"\",\"value\":\"59a29470-46bd-42b1-9f4a-0344de07b3d8\"},{\"itemName\":\"VPC ID\",\"itemNo\":\"vpcId\",\"productId\":\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\",\"unit\":\"\",\"value\":\"91b89e19-3bbb-46b5-a62b-26521cd7a31b\"}],\"productGroup\":119,\"productId\":\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\",\"productName\":\"mongodb\",\"productType\":64,\"productUse\":1,\"productWhat\":1,\"region\":\"cn-beijing-6\",\"userId\":2000096392}],\"reason\":\"instance.timeout\",\"source\":1,\"subOrderList\":[{\"instanceId\":\"6fe9b3ee-8160-4a9a-91ef-c9419d40ce0d\",\"productGroup\":119,\"productId\":\"a9d460ec-d8ef-4d9a-81dc-417496fbd0e7\",\"productType\":64,\"region\":\"cn-beijing-6\",\"subOrderId\":\"MONGODB2S2305091633262402SN78H\"}],\"subUserId\":\"nwk5KmMRSwW4RiQazBOtwQ\",\"userId\":2000096392}","msg_id":"1690510501317uJRd","msg_request_id":"83898568-7906-4ed3-8d9d-d8058a9dbb41","msg_action":"instance.create","msg_timestamp":1690510501317};

    }

    @Test
    void testCom() {
        String dbVersion = "http://alarm.inner.sdns.ksyun.com";
        String ALARM_RECEPTOR = "/alarm/receptor";
        System.out.println(new StringBuilder(dbVersion).append(ALARM_RECEPTOR).toString());
    }
}
